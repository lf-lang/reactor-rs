<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The runtime library for reactor programs generated by LFC, the Lingua Franca compiler."><title>reactor_rt - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="reactor_rt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0 (9b00956e5 2024-04-29)" data-channel="1.78.0" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../reactor_rt/index.html">reactor_rt</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../reactor_rt/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">reactor_rt</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/reactor_rt/lib.rs.html#25-161">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The runtime library for reactor programs generated by LFC,
the <a href="https://github.com/lf-lang/lingua-franca">Lingua Franca</a> compiler.</p>
<p>Most of this crate consists of types that are manipulated
only by the generated code. User-written Rust code mostly
interacts with the type <a href="struct.ReactionCtx.html" title="struct reactor_rt::ReactionCtx">ReactionCtx</a>, which is the entry
point for user documentation.</p>
<p>Crate-level features include:</p>
<ul>
<li><code>parallel-runtime</code>: use Rayon to execute reactions in parallel
when possible. This is not yet the default. For some applications,
where there is no data parallelism, this may harm performance
(as well as pull in unneeded dependencies) and should be off.</li>
<li><code>wide-ids</code>: Enables 64-bit wide reaction ids on 64-bit
architectures. This may reduce performance, but allows for
2^32 reactor instances compared to the default of 2^16,
which may feel a bit tight for some applications. On machines
with a pointer-width of less than 64 bits, ID types are
always 32 bits. The feature also widens trigger ids to 64 bits
if possible, which enables 2^64 individual trigger components
(ports, actions, etc.) instead of 2^32.</li>
<li><code>vec-id-sets</code>: Change the implementation of reaction sets
to be a sorted vector instead of a hash set. This has a positive
performance impact, as reaction sets are typically very small.
More testing is required to determine pathological cases.
This is a default feature.</li>
<li><code>no-unsafe</code>: disable optimisations that use unsafe code in this runtime.
Just provided for comparison, should probably be removed (unsafe code is fine).</li>
</ul>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="assembly/index.html" title="mod reactor_rt::assembly">assembly</a></div><div class="desc docblock-short">Module containing the API to initialize a reactor program.</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod reactor_rt::prelude">prelude</a></div><div class="desc docblock-short">The prelude that is imported at the top of reactor files
generated by LFC.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.after.html" title="macro reactor_rt::after">after</a></div><div class="desc docblock-short">Shorthand for using <a href="enum.Offset.html#variant.After" title="variant reactor_rt::Offset::After">After</a> together with [delay].</div></li><li><div class="item-name"><a class="macro" href="macro.assert_tag_is.html" title="macro reactor_rt::assert_tag_is">assert_tag_is</a></div><div class="desc docblock-short">Convenient macro to assert equality of the current tag.
This is just shorthand for using <code>assert_eq!</code> with the
syntax of [tag].</div></li><li><div class="item-name"><a class="macro" href="macro.delay.html" title="macro reactor_rt::delay">delay</a></div><div class="desc docblock-short">Creates a <a href="struct.Duration.html" title="struct reactor_rt::Duration">Duration</a> value using the same syntax as in LF.</div></li><li><div class="item-name"><a class="macro" href="macro.tag.html" title="macro reactor_rt::tag">tag</a></div><div class="desc docblock-short">Convenient macro to <a href="struct.EventTag.html" title="struct reactor_rt::EventTag">create a tag</a>.
This is just a shorthand for using the constructor together
with the syntax of [delay].</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AsyncCtx.html" title="struct reactor_rt::AsyncCtx">AsyncCtx</a></div><div class="desc docblock-short">A type that can affect the logical event queue to implement
asynchronous physical actions. This is a “link” to the event
system, from the outside world.</div></li><li><div class="item-name"><a class="struct" href="struct.Duration.html" title="struct reactor_rt::Duration">Duration</a></div><div class="desc docblock-short">A <code>Duration</code> type to represent a span of time, typically used for system
timeouts.</div></li><li><div class="item-name"><a class="struct" href="struct.EventTag.html" title="struct reactor_rt::EventTag">EventTag</a></div><div class="desc docblock-short">The tag of an event.</div></li><li><div class="item-name"><a class="struct" href="struct.GlobalReactionId.html" title="struct reactor_rt::GlobalReactionId">GlobalReactionId</a></div><div class="desc docblock-short">Global identifier for a reaction.</div></li><li><div class="item-name"><a class="struct" href="struct.Instant.html" title="struct reactor_rt::Instant">Instant</a></div><div class="desc docblock-short">A measurement of a monotonically nondecreasing clock.
Opaque and useful only with <a href="struct.Duration.html" title="struct reactor_rt::Duration"><code>Duration</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalReactionId.html" title="struct reactor_rt::LocalReactionId">LocalReactionId</a></div><div class="desc docblock-short">ID of a reaction local to its containing reactor.</div></li><li><div class="item-name"><a class="struct" href="struct.LogicalAction.html" title="struct reactor_rt::LogicalAction">LogicalAction</a></div><div class="desc docblock-short">A logical action.</div></li><li><div class="item-name"><a class="struct" href="struct.MicroStep.html" title="struct reactor_rt::MicroStep">MicroStep</a></div><div class="desc docblock-short">Type of the microsteps of an <a href="struct.EventTag.html" title="struct reactor_rt::EventTag">EventTag</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Multiport.html" title="struct reactor_rt::Multiport">Multiport</a></div><div class="desc docblock-short">A multiport is a vector of independent ports (its <em>channels</em>)
Multiports have special Lingua Franca syntax, similar to reactor banks.</div></li><li><div class="item-name"><a class="struct" href="struct.PhysicalAction.html" title="struct reactor_rt::PhysicalAction">PhysicalAction</a></div><div class="desc docblock-short">A physical action. Physical actions may only be used with
the API of <a href="struct.AsyncCtx.html" title="struct reactor_rt::AsyncCtx">AsyncCtx</a>.
See <a href="struct.ReactionCtx.html#method.spawn_physical_thread" title="method reactor_rt::ReactionCtx::spawn_physical_thread">ReactionCtx::spawn_physical_thread</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.PhysicalActionRef.html" title="struct reactor_rt::PhysicalActionRef">PhysicalActionRef</a></div><div class="desc docblock-short">A reference to a physical action. This thing is cloneable
and can be sent to async threads. The contained action
reference is unique and protected by a lock. All operations
on the action are</div></li><li><div class="item-name"><a class="struct" href="struct.Port.html" title="struct reactor_rt::Port">Port</a></div><div class="desc docblock-short">Represents a port, which carries values of type <code>T</code>.
Ports reify the data inputs and outputs of a reactor.</div></li><li><div class="item-name"><a class="struct" href="struct.ReactionCtx.html" title="struct reactor_rt::ReactionCtx">ReactionCtx</a></div><div class="desc docblock-short">The context in which a reaction executes. Its API
allows mutating the event queue of the scheduler.
Only the interactions declared at assembly time
are allowed.</div></li><li><div class="item-name"><a class="struct" href="struct.ReactorId.html" title="struct reactor_rt::ReactorId">ReactorId</a></div><div class="desc docblock-short">The unique identifier of a reactor instance during
execution.</div></li><li><div class="item-name"><a class="struct" href="struct.SchedulerOptions.html" title="struct reactor_rt::SchedulerOptions">SchedulerOptions</a></div><div class="desc docblock-short">Construction parameters for the scheduler.</div></li><li><div class="item-name"><a class="struct" href="struct.SyncScheduler.html" title="struct reactor_rt::SyncScheduler">SyncScheduler</a></div><div class="desc docblock-short">The runtime scheduler.</div></li><li><div class="item-name"><a class="struct" href="struct.Timer.html" title="struct reactor_rt::Timer">Timer</a></div><div class="desc docblock-short">A timer is conceptually a logical action that may re-schedule
itself periodically.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Offset.html" title="enum reactor_rt::Offset">Offset</a></div><div class="desc docblock-short">An offset from the current event.</div></li><li><div class="item-name"><a class="enum" href="enum.TimeUnit.html" title="enum reactor_rt::TimeUnit">TimeUnit</a></div><div class="desc docblock-short">A unit of time, used in LF.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ReactionTrigger.html" title="trait reactor_rt::ReactionTrigger">ReactionTrigger</a></div><div class="desc docblock-short">Common trait for actions, ports, and timer objects handed
to reaction functions. This is meant to be used through the
API of <a href="struct.ReactionCtx.html" title="struct reactor_rt::ReactionCtx">ReactionCtx</a> instead of directly.</div></li><li><div class="item-name"><a class="trait" href="trait.ReactorBehavior.html" title="trait reactor_rt::ReactorBehavior">ReactorBehavior</a></div><div class="desc docblock-short">The trait used by the framework to interact with the reactor
during runtime.</div></li><li><div class="item-name"><a class="trait" href="trait.SchedulableAsAction.html" title="trait reactor_rt::SchedulableAsAction">SchedulableAsAction</a></div><div class="desc docblock-short">Implemented by LogicalAction and PhysicalAction references
to give access to <a href="struct.ReactionCtx.html#method.schedule" title="method reactor_rt::ReactionCtx::schedule">ReactionCtx::schedule</a> and variants.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.try_parse_duration.html" title="fn reactor_rt::try_parse_duration">try_parse_duration</a></div><div class="desc docblock-short">Parse a duration from a string. This is used for CLI
parameter parsing in programs generated by LFC, specifically,
to parse main parameters with <code>time</code> type, and scheduler
options with time type.</div></li></ul></section></div></main></body></html>